@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
    <p><a href="https://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
</div>

<input type="text" id="txtName" />
<input type="button" id="btnGet" value="Find person" />

<div id="test1"></div>

@*De 2 nederste skal opdateres - ajax skal installeres - HUUSK at bruge de rigtige dimension *@
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>     @*HUUUUSK*@

<script type="text/javascript">
    $("#btnGet").click(function () {
        let data = { name: $("#txtName").val() };
        $.ajax({
            type: "POST",
            url: "/Home/AjaxMethod",
            data: JSON.stringify(data),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {
                $("#test1").html(`Hej ${response.firstName} ${response.lastName}, på ${response.age} år`);
            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });



</script>



